<!DOCTYPE html>
<html lang="en">
  <head>
    <!--
      This is the page head - it contains info the browser uses to display the page
      You won't see what's in the head in the page
      Scroll down to the body element for the page content
    -->

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Holonext Music Band</title>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image.prod.js"></script>
    <script src="https://raw.githack.com/aframevr/aframe/master/dist/aframe-master.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.1.4/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-gltf-helpers@0.0.5/dist/aframe-gltf-helpers.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.2/Tone.js"
      charset="utf-8"
    ></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>

    <!-- Import the webpage's javascript file -->

    <script src="ring-manager.js"></script>
    <script src="ring.js"></script>
    <script src="audio.js"></script>
  </head>
  <body>
    <a-scene
      mindar-image="imageTargetSrc: https://holonext.blob.core.windows.net/holonext-public-container/public_assets/assets/manzara.mind"
      color-space="sRGB"
      renderer="colorManagement: true, physicallyCorrectLights"
      device-orientation-permission-ui="enabled: false"
    >
      <a-camera
        position="0 0 0"
        look-controls="enabled: false"
        cursor="fuse: false; rayOrigin: mouse;"
        raycaster="far: ${customFields.libVersion}; objects: .clickable"
      ></a-camera>

      <a-assets>
        <a-asset-item id="cubes" src="./cubes.gltf"></a-asset-item>
      </a-assets>
      <a-entity mindar-image-target="targetIndex: 0">
        <a-entity
          ring-manager
          id="mesh1"
          class="clickable"
          synth="note: A#3"
          gltf-part-plus="src: #cubes; part: Cube1; resetPosition: true;"
        ></a-entity>
        <a-entity
          ring-manager
          id="mesh2"
          class="clickable"
          synth="note: A#4"
          gltf-part-plus="src: #cubes; part: Cube2; resetPosition: true;"
        ></a-entity>
        <a-entity
          ring-manager
          id="mesh3"
          class="clickable"
          synth="note: C5"
          gltf-part-plus="src: #cubes; part: Cube3; resetPosition: true;"
        ></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
